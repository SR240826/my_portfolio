<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>HTML Canvas</title>
        <link rel="stylesheet" href="static/maze.css" type="text/css">
        <link rel="shortcut icon" href="#">
        <script src="static/maze.js" defer type="module"></script>
        <script src="static/footer.js" defer type="module"></script>
        <link rel="stylesheet" href="static/footer.css" type="text/css">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Carter+One&family=Montserrat+Alternates&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Carter+One&family=Crimson+Text:wght@700&family=Monofett&family=Montserrat+Alternates&family=VT323&display=swap" rel="stylesheet">
        <title>Maze Generator</title>
    </head>
    <body>
        <nav class="navbar">
            <div class="container-fluid flex-container">
                <a class="navbar-brand" href="/" id="logo">
                    Home
                </a>
            </div>
        </nav>
        <main>
            <div id="maze">
                <p id="tutorial">Use "w", "s", "a", "d" to move up, down, left or right</p>
                <canvas id="mazeCanvas" width="400" height="400" style="border:10px solid rgb(138, 138, 138)"></canvas>
                <h2 id="solved">Maze solved! <br>Congratulations! <br> Reload this page <br> for new maze.</h2>   
            </div>
            <div class="btnctrls" id="ctrls">
                <div>
                    <button class="btn btn-danger" id="btn_top">up</button>
                </div>
                <div>
                    <button class="btn btn-danger" id="btn_left">left</button>
                    <button class="btn btn-danger" id="btn_down">down</button>
                    <button class="btn btn-danger" id="btn_right">right</button>
                </div>
            </div>
            <div class="workflow flex-container">
                <p>
                    This is another procedural map (or maze in this case) creation model.
                     First, a class of Cell was created, where it stored attributes like position (x, y) and walls check with Boolean. 
                </p>
            </div>
            <div class="pre flex-container">
                <pre>
                    <code class="codes">
class Cell {
constructor(x, y) {
    this.x = x;
        this.y = y;
        this.walls = [true, true, true, true]; <span class="comments">// top, bottom, right, left of cell</span>
        this.visited = false;
        }
}                   
                    </code>
                </pre>
            </div>
            <div class="workflow flex-container">
                <p>
                    Then using “for loop” across canvas’s width and height, new instance of class Cell was introduced with each pixel position
                     and pushed to an array grid. Then the player and the target was spawned on a random position independently. Player and 
                     target was spawned first cause that way it’s not needed to keep checking wall collision, which could lead to much longer 
                     or even an infinite loop. <br>After that setting a cell size variable, whole canvas was again iterated with another for 
                     loop. In this case, we did not need to check whole grid, rather each cell width or height interval. For example, if our 
                     cell size is 20 and array of 
                    <code>
                        grid = [(x<sub>0</sub>, y<sub>0</sub>), 
                                (x<sub>1</sub>, y<sub>0</sub>),
                                .... , 
                                (x<sub>1</sub>, y<sub>1</sub>), 
                                (x<sub>1</sub>, y<sub>2</sub>) 
                                .... ,
                                (x<sub>n</sub>, y<sub>n</sub>)]
                    </code>, we iterate like following :

                </p>
            </div>
            <div class="pre flex-container">
                <pre>
                    <code>
For the 1st row along canvas width: [0,0] to [20, 0] to [40, 0] and so on
For the 2nd row along canvas width: [0,20] to [20, 20] to [40, 20] and so on
....
...
                    </code>
                </pre>
            </div>
            <div class="workflow flex-container">
                <p>
                    While within the iteration, we check a random side <code>(top, bottom, right or left)</code> of each pixel position with <code>sidewalls[Math.floor(Math.random() * sidewalls.length)];</code>. Except the checked side, 
                    all other sides will be used to make walls. This is done by setting false to <code>“walls”</code> attribute of <code>class Cell</code>. This also ensures 
                    that there will be always an open path in a square cell. After that all had to do is draw the elements and implement the player 
                    movement controls.
                </p>
                <div style="display: flex; align-items: center; flex-direction: column; justify-content: center;">
                    <p style="align-self: center;">My workflow for writing this code</p>
                    <iframe id="miro" width="768" height="412" src="https://miro.com/app/live-embed/uXjVNwSCqZQ=/?moveToViewport=-390,-662,1318,1503&embedId=752192343468" frameborder="0" scrolling="no" allow="fullscreen; clipboard-read; clipboard-write" allowfullscreen></iframe>
                </div>
            </div>
        </main>
        <footer class="footer flex-container">
            <div>
                <p>
                    Check out my other projects!
                </p>
            </div>
            <div class="section footer">
                <div class="card">
                    <a href="CS50 Game.html">
                        <img src="Card Iamge/JS_Game.webp" loading="lazy" alt="JavaScript Game: Quest Model">
                        <p> A simple generic quest model in JavaScript</p>
                    </a>
                </div>
                <div class="card">
                    <a href="Texture Portfolio/sd_wood.html">
                        <img src="Texture Portfolio/Wood tile/Wood render 2.webp" loading="lazy" alt="Substance designer: Wood Pattern">
                        <p> Stylized wood texture, fully procedural, with substance designer</p>
                    </a>
                </div>
                <div class="card">
                    <a href="Texture Portfolio/sd_trim_sheet.html">
                        <img src="Texture Portfolio/Trim Sheet/Trim sheet SD 2.webp" loading="lazy" alt="Substance designer: Trim Sheet">
                        <p> Stylized trim sheet texture with substance designer</p>
                    </a>
                </div>
                <div class="card">
                    <a href="Texture Portfolio/sd_wip.html">
                        <img src="Texture Portfolio/Sci fi/Sci fi.webp" loading="lazy" alt="Substance designer: Experimental Textures">
                        <p> Other experimental projects with substance designer</p>
                    </a>
                </div>
                <div class="card">
                    <a href="3D models/Robot/Robot.html">
                        <img src="3D models/Robot/Robot 2.webp" loading="lazy" alt="3D Model: Artronic Robot">
                        <p> Artronic</p>
                    </a>
                </div>
                <div class="card">
                    <a href="3D models/Steam Deck/steam_deck.html">
                        <img src="3D models/Steam Deck/Steam deck cover.webp" loading="lazy" alt="3D Model: Steam deck">
                        <p> Steam Deck (product excersize)</p>
                    </a>
                </div>
                <div class="card">
                    <a href="3D models/miscellaneous/Miscellaneous.html">
                        <img src="3D models/miscellaneous/misc cover.webp" loading="lazy" alt="3D Model: Others">
                        <p> Other experiments and excersize</p>
                    </a>
                </div>
            </div>
            <div class="copy">
                <p><a href="https://sanjidur.com">sanjidur.com</a> <span>&copy;</span> 2024. All rights reserved. This site was developed by Sanjidur</p>
            </div>
        </footer>
    </body>
</html>
